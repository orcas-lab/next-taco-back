import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

syntax = "proto3";
package account;

message LoginRequest {
    string tid=1;
    string password=2;
}
message RegisterRequest {
    string tid=1;
    string nick=2;
    string password=3;
    string sex=4;
    map<string,string> question = 5;
    string birthday=6;
    string email=7;
}
message CheckQuestionRequest {
    string tid=1;
    map<string,string> question = 2;
}
message ChangePasswordRequest {
    string tid=1;
    string new_pass=2;
}

message LoginResponse {
    string access_token=1;
    string refresh_token=2;
}
message DeleteAccount {
    string tid=1;
}
message AccountExists {
    string tid=1;
    string password=2;
}

service AccountService {
    rpc register(RegisterRequest) returns (google.protobuf.BoolValue);
    rpc checkQuestion(CheckQuestionRequest) returns (google.protobuf.BoolValue);
    rpc changePassword(ChangePasswordRequest) returns (google.protobuf.BoolValue);
    rpc deleteAccount(DeleteAccount) returns (google.protobuf.BoolValue);
    rpc accountExists(AccountExists) returns (google.protobuf.BoolValue);
}

